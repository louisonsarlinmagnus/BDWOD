
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>Base de donnée SQL - BDWOD</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f0267088.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#la-base-de-donnees-sql" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="BDWOD" class="md-header-nav__button md-logo" aria-label="BDWOD">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z" fill-opacity=".5"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z" fill-opacity=".25"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            BDWOD
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Base de donnée SQL
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/louisonsarlinmagnus/BDWOD/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Projet BDWOD
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="BDWOD" class="md-nav__button md-logo" aria-label="BDWOD">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z" fill-opacity=".5"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z" fill-opacity=".25"/></svg>

    </a>
    BDWOD
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/louisonsarlinmagnus/BDWOD/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Projet BDWOD
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Accueil
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../besoin/" class="md-nav__link">
      Analyse du besoin
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Approche technique
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Approche technique" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Approche technique
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Base de donnée SQL
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Base de donnée SQL
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#les-modeles-de-donnees" class="md-nav__link">
    Les modèles de données
  </a>
  
    <nav class="md-nav" aria-label="Les modèles de données">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#le-mcd" class="md-nav__link">
    Le MCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#le-mpd" class="md-nav__link">
    Le MPD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#le-mld" class="md-nav__link">
    Le MLD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#312-le-script-sql" class="md-nav__link">
    3.1.2 Le Script SQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remplir-la-base-de-donnee" class="md-nav__link">
    Remplir la base de donnée
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bddjson/" class="md-nav__link">
      Base de donnée JSON
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../glossaire/" class="md-nav__link">
      Glossaire
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Experimentations
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Experimentations" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Experimentations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../exp-bdd/" class="md-nav__link">
      Base de données
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../help/" class="md-nav__link">
      Liens et outils
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#les-modeles-de-donnees" class="md-nav__link">
    Les modèles de données
  </a>
  
    <nav class="md-nav" aria-label="Les modèles de données">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#le-mcd" class="md-nav__link">
    Le MCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#le-mpd" class="md-nav__link">
    Le MPD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#le-mld" class="md-nav__link">
    Le MLD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#312-le-script-sql" class="md-nav__link">
    3.1.2 Le Script SQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remplir-la-base-de-donnee" class="md-nav__link">
    Remplir la base de donnée
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/louisonsarlinmagnus/BDWOD/edit/master/docs/bddsql.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="la-base-de-donnees-sql">La base de données SQL</h1>
<p>Pour stocker les exercices nous avons chercher un moyen simple, léger, efficace et portable. Les recherches on mené a éliminer les services de serveur de base de données relationnelles tels que <em>MySQL</em> et <em>PostgreSQL</em>, en effet ces technologie ne sont pas portable et complexe.<br />
Puis les données formaté tels que <em><a href="https://fr.wikipedia.org/wiki/Extensible_Markup_Language">XML</a></em> et <em><a href="https://fr.wikipedia.org/wiki/JavaScript_Object_Notation">JSON</a></em> ont été écarté pour des raisons de fiabilité et de simplicité.  </p>
<p>Nous avons donc choisi de travailler avec <a href="https://www.sqlite.org/index.html"><strong>SQLite</strong></a>, en effet ce service permet de gérer un BDD de type <em>SQL</em> tout en restant portable et simple à mettre ne œuvre.</p>
<p>En effet SQLite ne demande pas la mise en place d'un serveur de BDD, les données sont stockées sur un seul fichier. C'est donc une solution portable que l'on retrouve dans beaucoup d'appareil et notamment dans l'OS Android.</p>
<h2 id="les-modeles-de-donnees">Les modèles de données</h2>
<p>La technologie ayant été choisi il est temps de s'y mettre. La première étape est bien évidement la recherche d'informations. C'est ainsi qu'on a décidé d'appliqué un modèle de conception de base de donnée, le modèle <em>"<a href="https://www.base-de-donnees.com/merise/">Merise</a>"</em>.</p>
<p>On retiendra donc que Merise permet de :</p>
<ul>
<li>décrire les données grâce au MCD : quelles sont les relations et les dépendances entres les différents acteurs.  </li>
<li>d'implémenter logiquement grâce au MLD du point précédent.  </li>
<li>Proposer une construction concrète et utilisable du point précédent grâce au MPD</li>
</ul>
<h3 id="le-mcd">Le MCD</h3>
<p>Le <em>MCD</em> est constitué des éléments suivants:</p>
<ul>
<li>Les entités (1 rectangle = 1 objet)</li>
<li>Les propriétés (la liste des données de l’entité)</li>
<li>Les relations qui expliquent et précisent comment les entités sont reliées entre elles (les ovales)</li>
<li>Les cardinalités (les petits chiffres au dessus des "pattes")</li>
</ul>
<p><center>
<br />
<figure>
    <img src="https://i.imgur.com/cfuxpd1.png"
    width="1000"
    >
    <figcaption><i>Figure 2: Modèle Conceptuel de Donnée a faire</i></figcaption>
  </figure></p>
<p></center></p>
<h3 id="le-mpd">Le MPD</h3>
<p>Concrètement, cette étape permet de construire la structure finale de la base de données avec les différents liens entre les éléments qui la composent. Pour la peine, on change aussi de vocabulaire :</p>
<ul>
<li>Les entités se transforment en tables ;</li>
<li>Les propriétés se transforment en attributs</li>
<li>Les propriétés se trouvant au milieu d’une relation génèrent une nouvelle table.</li>
<li>Les identifiants se transforment en clés et se retrouvent soulignés. Chaque table dispose d’au minimum une clé primaire</li>
<li>Les relations et les cardinalités se transforment en champs parfois soulignés : il s’agit de créer des "clés étrangères" reliées à une "clé primaire" dans une autre table</li>
</ul>
<p><center>
<br />
<figure>
    <img src="https://i.imgur.com/Gu9B7QB.png"
    width="1000"
    >
    <figcaption><i>Figure 3: Modèle Physique de Donnée à faire</i></figcaption>
  </figure></p>
<p></center>  </p>
<h3 id="le-mld">Le MLD</h3>
<p>On représente ainsi les données issues de la modélisation Merise sous la forme suivante :</p>
<ul>
<li>Chaque ligne représente une table</li>
<li>C’est toujours le nom de la table qui est écrit en premier</li>
<li>Les champs sont listés entre parenthèses et séparés par des virgules</li>
<li>Les clés primaires sont soulignées et placées au début de la liste des champs</li>
<li>Les clés étrangères sont préfixées par un dièse</li>
</ul>
<p>Cette étape ne porte pas d'intérêt dans le cadre de notre projet, elle a donc été sautée.  </p>
<h2 id="312-le-script-sql">3.1.2 Le Script SQL</h2>
<p>Une fois les modèles conceptuels et physiques crées, il reste a créer le script de création de la base de données modélisée. Pour ceci nous allons devoir nous pencher sur le langage SQL.  </p>
<p>Chaque <a href="https://fr.wikipedia.org/wiki/Syst%C3%A8me_de_gestion_de_base_de_donn%C3%A9es">SGBD</a> (Système de Gestion de Base de Données) possède ses propres spécificités et caractéristiques. Nous allons devoir donc créer un script SQL respectant les notations et caractéristiques de SQlite.</p>
<p>On se retrouve donc avec le script suivant:  </p>
<div class="highlight"><pre><span></span><code>  <span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="ss">&quot;Entrainement&quot;</span> <span class="p">;</span>
  <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="ss">&quot;Entrainement&quot;</span> <span class="p">(</span>
    <span class="ss">&quot;id&quot;</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">AUTOINCREMENT</span><span class="p">,</span>
    <span class="ss">&quot;nom&quot;</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="ss">&quot;date&quot;</span> <span class="nb">NUMERIC</span><span class="p">,</span>
    <span class="ss">&quot;lieu&quot;</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="ss">&quot;commentaire&quot;</span> <span class="nb">TEXT</span>
  <span class="p">);</span>

  <span class="cm">/*Creation de la Table Exercice*/</span>
  <span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="ss">&quot;Exercice&quot;</span> <span class="p">;</span>
  <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="ss">&quot;Exercice&quot;</span> <span class="p">(</span>
    <span class="ss">&quot;id&quot;</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">AUTOINCREMENT</span><span class="p">,</span>
    <span class="ss">&quot;nom&quot;</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="ss">&quot;type&quot;</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="ss">&quot;cashin&quot;</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="ss">&quot;temps&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;evolution_reps&quot;</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="ss">&quot;nombre_tours&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;time_cap&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;durée_intervalle&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;plusieur_mvt_par_intervalle&quot;</span> <span class="nb">NUMERIC</span><span class="p">,</span>
    <span class="ss">&quot;mouvement_alterné&quot;</span> <span class="nb">NUMERIC</span><span class="p">,</span>
    <span class="ss">&quot;temps_travail&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;temps_repos&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;cash-out&quot;</span> <span class="nb">TEXT</span>
  <span class="p">);</span>

  <span class="cm">/*Creation de la Table Mouvement*/</span>
  <span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="ss">&quot;Mouvement&quot;</span> <span class="p">;</span>
  <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="ss">&quot;Mouvement&quot;</span> <span class="p">(</span>
    <span class="ss">&quot;id&quot;</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">AUTOINCREMENT</span><span class="p">,</span>
    <span class="ss">&quot;nom&quot;</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="ss">&quot;nbr_reps&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;poids&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;distance&quot;</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="ss">&quot;hauteur&quot;</span> <span class="nb">INTEGER</span>
    <span class="ss">&quot;temps&quot;</span> <span class="nb">INTEGER</span>
  <span class="p">);</span>

  <span class="cm">/*Creation de la Table Constitue*/</span>
  <span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="ss">&quot;Constitue&quot;</span> <span class="p">;</span>
  <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="ss">&quot;Constitue&quot;</span> <span class="p">(</span>
    <span class="ss">&quot;ExerciceId&quot;</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="ss">&quot;EntrainementId&quot;</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>

    <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="ss">&quot;ExerciceId&quot;</span><span class="p">)</span>
      <span class="k">REFERENCES</span> <span class="ss">&quot;Exercice&quot;</span><span class="p">(</span><span class="ss">&quot;id&quot;</span><span class="p">)</span> 
        <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span> 
        <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">NO</span> <span class="n">ACTION</span><span class="p">,</span>

    <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="ss">&quot;EntrainementId&quot;</span><span class="p">)</span>
      <span class="k">REFERENCES</span> <span class="ss">&quot;Entrainement&quot;</span><span class="p">(</span><span class="ss">&quot;id&quot;</span><span class="p">)</span> 
        <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span> 
        <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">NO</span> <span class="n">ACTION</span>
  <span class="p">);</span>

  <span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="ss">&quot;iConstitue&quot;</span> <span class="k">ON</span> <span class="ss">&quot;Constitue&quot;</span> <span class="p">(</span>
    <span class="ss">&quot;ExerciceId&quot;</span><span class="p">,</span>
    <span class="ss">&quot;EntrainementId&quot;</span>
  <span class="p">);</span>

  <span class="cm">/*Creation de la Table Fait*/</span>
  <span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="ss">&quot;Fait&quot;</span> <span class="p">;</span>
  <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="ss">&quot;Fait&quot;</span> <span class="p">(</span>
    <span class="ss">&quot;MouvementId&quot;</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="ss">&quot;ExerciceId&quot;</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>

    <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="ss">&quot;MouvementId&quot;</span><span class="p">)</span>
      <span class="k">REFERENCES</span> <span class="ss">&quot;Mouvement&quot;</span><span class="p">(</span><span class="ss">&quot;id&quot;</span><span class="p">)</span> 
        <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span> 
        <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">NO</span> <span class="n">ACTION</span><span class="p">,</span>

    <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="ss">&quot;ExerciceId&quot;</span><span class="p">)</span>
      <span class="k">REFERENCES</span> <span class="ss">&quot;Exercice&quot;</span><span class="p">(</span><span class="ss">&quot;id&quot;</span><span class="p">)</span> 
        <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span> 
        <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">NO</span> <span class="n">ACTION</span>
  <span class="p">);</span>

  <span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="ss">&quot;iFait&quot;</span> <span class="k">ON</span> <span class="ss">&quot;Fait&quot;</span> <span class="p">(</span>
    <span class="ss">&quot;MouvementId&quot;</span><span class="p">,</span>
    <span class="ss">&quot;ExerciceId&quot;</span> 
  <span class="p">);</span>
</code></pre></div>
<p>Il faut chercher si on ajoute des unique quelque part ou si ça sert a rien.</p>
<p>Nous avons donc ajouter des UNIQUE et des INDEX.</p>
<p>Un fois le script de création de la base de donnée complètement créer il ne reste plus qu'a le "fournir" à <em>SQLite</em> pour le transformer en base de donnée. Ce script a pour extension <em>".sql"</em>.  </p>
<p>Un fois SQLite été <a href="https://www.sqlite.org/download.html">téléchargé</a>:</p>
<ul>
<li>On ouvre la BDD (ou on crée la BDD si elle n'existe pas) avec la commande : <code>.open BDWOD.db</code>  </li>
<li>On set la visualisation d'une requête en mode colonne : <code>.mode column</code>  </li>
<li>On active l'affichage de l'entête pour des raison de visibilité : <code>.header on</code>  </li>
<li>On exécute le script <em>.sql</em> de création de la base de donnée: <code>.read script_BDWOD.sql</code>  </li>
</ul>
<p><center>
<br />
<figure>
    <img src="https://i.imgur.com/BZMCDXK.png"
    width="800"
    >
    <figcaption>*Figure 4: Shell SQLite pour la création d'une base de données*</figcaption>
  </figure></p>
<p></center>  </p>
<h2 id="remplir-la-base-de-donnee">Remplir la base de donnée</h2>
<p>Une fois la base de données crée il faut y rentrer les données en question. Pour cela nous allons devoir créer un autre script SQL. Mais avant de commencer a coder nous pouvons nous pencher sur l'<strong>annexe 1</strong>.  </p>
<p>Il est maintenant envisageable de remplir correctement notre base de donnée. Pour cela j'ai choisi cet exemple</p>
<p><center>
  <b>Description Entrainement:</b><br />
  &emsp;<span style="color:grey">CrossFit Terrasse<br />
  &emsp;01/05/2020<br />
  &emsp;Entrainement complet et assez long</span><br />
  <br>
  <b>Warmup</b>: <span style="color:#c239d4">3 Rounds</span> <br />
  &emsp;<span style="color:blue">3</span>
  <span style="color:green">Tiger Push-ups  </span><br />
  &emsp;<span style="color:blue">6</span>
  <span style="color:green">V-ups</span><br />
  &emsp;<span style="color:blue">9</span>
  <span style="color:#03fca5">Sumo </span>
  <span style="color:green"> Squats</span><br />
  <br>
  <b>For Time</b>: <span style="color:#c239d4">4 Rounds, TC: 20’</span> <br />
  &emsp;<span style="color:orange">Cash-in </span>
  <span style="color:blue">50</span>
  <span style="color:green">DU</span><br />
  &emsp;<span style="color:blue">10</span>
  <span style="color:green">Pull-ups</span><br />
  &emsp;<span style="color:blue">20</span>
  <span style="color:#03fca5">Squat </span>
  <span style="color:green">Snatches</span> <br />
  &emsp;<span style="color:blue">30"</span>
  <span style="color:green">Gainage</span><br />
  &emsp;<span style="color:orange">Cash-out </span>
  <span style="color:blue">50</span>
  <span style="color:green">DU</span><br />
  <br>
  <b>EMOM</b>: <span style="color:#c239d4">12'</span> <br />
  &emsp;<span style="color:blue">10</span>
  <span style="color:green">Leg Raise</span><br />
  &emsp;<span style="color:blue">20</span>
  <span style="color:green">Sit-ups</span><br />
  <br>
</center></p>
<p>On remarque bien que cet entraînement comporte:</p>
<ul>
<li>Une description avec le lieu, la date et une description</li>
<li>Un "Warmup" de 3 Rounds avec plusieurs mouvement</li>
<li>Un <strong>premier</strong> exercice de 4 Rounds et un Time Cap de 20 minutes. Composé d'un cash-in et d'un cash-out qui sont des argument du mouvement. Et enfin de mouvements.</li>
<li>Un <strong>second</strong> exercice d'un temps de 12 minutes, plusieurs mouvements.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../besoin/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Analyse du besoin
              </div>
            </div>
          </a>
        
        
          <a href="../bddjson/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Base de donnée JSON
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; 2020 Louison SARLIN--MAGNUS
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="../search/main.js"></script>
      
    
  </body>
</html>